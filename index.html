<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6 th√°ng b√™n nhau ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíñ</text></svg>">

    <script type="module">
        // --- DOM Elements ---
        const sections = {
            letter: null,
            memories: null,
            journey: null
        };
        const navButtons = {
            letter: null,
            memories: null,
            journey: null
        };
        // Lightbox DOM Elements
        let lightbox = null;
        let lightboxImage = null;
        let lightboxCaption = null;
        let lightboxDate = null;
        let lightboxLocation = null;
        let lightboxStory = null;
        let closeLightboxButton = null;


        // --- App State ---
        let currentView = 'journey'; // Default view
        const relationshipStartDate = "2025-01-25"; // Fixed start date
        let photoMemories = []; // Will be loaded from photoMemories.json

        // --- Data Loading ---
        async function loadPhotoMemories() {
            try {
                // IMPORTANT: Ensure your 'photoMemories.json' file is in the root of your project
                // and includes "location" and "story" fields for each memory.
                // Example structure for an entry in photoMemories.json:
                // {
                //   "id": "p1", 
                //   "imageUrl": "https://...", 
                //   "caption": "Our First Date!", 
                //   "memoryDate": "2025-02-14",
                //   "location": "Sunset Point Beach",
                //   "story": "We sat for hours just watching the colors change..."
                // }
                const response = await fetch('./photoMemories.json'); 
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status} - Could not load photoMemories.json. Make sure the file exists at the root and the path is correct.`);
                }
                const data = await response.json();
                // Ensure each memory has an internalId for consistent referencing by the lightbox
                photoMemories = data.map((memory, index) => ({ 
                    ...memory, 
                    internalId: memory.id || `mem-${index}` // Use existing id or generate one as a fallback
                }));
                console.log("Photo memories loaded:", photoMemories.length);
            } catch (error) {
                console.error("Error loading photo memories:", error);
                photoMemories = []; // Ensure it's an empty array on error
                const container = document.getElementById('photoMemoriesContainer');
                if(container) container.innerHTML = `<p class="text-red-500 text-center py-4 col-span-full">Could not load memories. ${error.message}</p>`;
            }
            renderPhotoMemories(); // Call render after loading/processing
        }
        
        async function loadInitialData() {
            console.log("Loading initial data...");
            await loadPhotoMemories(); // Load photo memories from JSON
            updateJourneyView(); // Update journey view with the fixed date
        }

        // --- UI Rendering and Updates ---
        function switchView(viewName) {
            console.log("Switching to view:", viewName);
            currentView = viewName;
            Object.keys(sections).forEach(key => {
                if (sections[key]) { // Check if element exists
                    sections[key].classList.toggle('hidden', key !== viewName);
                } else {
                    console.warn(`Section element for '${key}' not found.`);
                }
            });
            Object.keys(navButtons).forEach(key => {
                if (navButtons[key]) { // Check if element exists
                    navButtons[key].classList.toggle('text-pink-500', key === viewName);
                    navButtons[key].classList.toggle('text-gray-500', key !== viewName);
                } else {
                    console.warn(`Nav button element for '${key}' not found.`);
                }
            });
            
            if (viewName === 'journey') updateJourneyView();
            // No need to call renderPhotoMemories here if it's already called by loadPhotoMemories
            // and when switching to the 'memories' view specifically.
            if (viewName === 'memories' && photoMemories.length > 0) {
                 renderPhotoMemories(); // Ensure it re-renders if already loaded and switching back
            }
        }

        function updateJourneyView() {
            const durationEl = document.getElementById('relationshipDuration');
            const nextAnniversaryEl = document.getElementById('nextAnniversary');
            const nextMonthlyAnniversaryEl = document.getElementById('nextMonthlyAnniversary');
            const fixedDateDisplayEl = document.getElementById('fixedStartDateDisplay');

            if (!durationEl || !nextAnniversaryEl || !nextMonthlyAnniversaryEl || !fixedDateDisplayEl) {
                console.warn("One or more Journey view elements not found. Deferring update.");
                return;
            }
            
            const startDate = new Date(relationshipStartDate + "T00:00:00"); // Ensure parsed as local time
            const now = new Date();
            // Normalize 'now' to the beginning of the day for consistent comparisons
            const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());


            fixedDateDisplayEl.textContent = `M√¨nh ƒë√£ ch√≠nh th·ª©c b√™n nhau t·ª´: ${startDate.toLocaleDateString('vi-VN', { year: 'numeric', month: 'long', day: 'numeric' })}`;

            if (isNaN(startDate.getTime())) {
                 durationEl.innerHTML = '<p class="text-red-500">Invalid start date configured.</p>';
                 nextAnniversaryEl.textContent = '';
                 nextMonthlyAnniversaryEl.textContent = '';
                 return;
            }

            // Calculate duration (Years, Months, Days together)
            let years = today.getFullYear() - startDate.getFullYear();
            let months = today.getMonth() - startDate.getMonth();
            let days = today.getDate() - startDate.getDate();

            if (days < 0) {
                months--;
                // Get the last day of the previous month
                const lastDayOfPrevMonth = new Date(today.getFullYear(), today.getMonth(), 0).getDate();
                days += lastDayOfPrevMonth;
            }
            if (months < 0) {
                years--;
                months += 12;
            }
             durationEl.innerHTML = `
                <p class="text-3xl md:text-4xl font-bold text-pink-600">${years} <span class="text-xl md:text-2xl font-normal text-gray-700">NƒÉm</span></p>
                <p class="text-3xl md:text-4xl font-bold text-pink-600">${months} <span class="text-xl md:text-2xl font-normal text-gray-700">Th√°ng</span></p>
                <p class="text-3xl md:text-4xl font-bold text-pink-600">${days} <span class="text-xl md:text-2xl font-normal text-gray-700">Ng√†y</span></p>
                <p class="mt-2 text-sm text-gray-500">C√πng nhau!</p>
            `;

            // Calculate next yearly anniversary
            let nextAnniversaryDate = new Date(startDate);
            nextAnniversaryDate.setFullYear(today.getFullYear());
            if (nextAnniversaryDate <= today) { // If today is the anniversary or it has passed this year
                nextAnniversaryDate.setFullYear(today.getFullYear() + 1);
            }
            const nextAnniversaryYears = nextAnniversaryDate.getFullYear() - startDate.getFullYear();
            nextAnniversaryEl.textContent = `Ng√†y k·ªâ ni·ªám ti·∫øp theo (${nextAnniversaryYears} ${nextAnniversaryYears === 1 ? 'NƒÉm' : 'nƒÉm'}): ${nextAnniversaryDate.toLocaleDateString('vi-VN', { month: 'long', day: 'numeric', year: 'numeric' })}`;

            // Calculate next monthly milestone
            let monthsPassedSinceStart = (today.getFullYear() - startDate.getFullYear()) * 12 + (today.getMonth() - startDate.getMonth());
            
            if (today.getDate() < startDate.getDate()) {
                // If today's day is before the start day, and it's not the very first month before the start day itself
                if (!(today.getFullYear() === startDate.getFullYear() && today.getMonth() === startDate.getMonth() && today.getDate() < startDate.getDate())) {
                     monthsPassedSinceStart--; // We haven't completed this month's milestone yet
                }
            }
             if (monthsPassedSinceStart < 0) monthsPassedSinceStart = 0; // Handles case where today is before start date

            let nextMilestoneTotalMonths = monthsPassedSinceStart + 1;
            
            let nextMonthlyDate = new Date(startDate.getFullYear(), startDate.getMonth() + nextMilestoneTotalMonths, startDate.getDate());
            
            nextMonthlyAnniversaryEl.textContent = `C·ªôt m·ªëc ti·∫øp theo (${nextMilestoneTotalMonths} ${nextMilestoneTotalMonths === 1 ? 'Th√°ng' : 'th√°ng'}): ${nextMonthlyDate.toLocaleDateString('vi-VN', { month: 'long', day: 'numeric', year: (nextMonthlyDate.getFullYear() !== today.getFullYear() ? 'numeric' : undefined) })}`;
        }


        function renderPhotoMemories() {
            const container = document.getElementById('photoMemoriesContainer');
            if (!container) {
                console.error("photoMemoriesContainer not found for rendering.");
                return;
            }
            container.innerHTML = ''; // Clear previous memories
            if (photoMemories.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4 col-span-full">No memories loaded. Check if photoMemories.json is set up correctly.</p>';
                return;
            }

            photoMemories.forEach(memory => {
                const memoryEl = document.createElement('div');
                // Added 'group' for potential hover effects on children, and 'cursor-pointer'
                memoryEl.className = 'bg-white rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden mb-4 relative group cursor-pointer';
                // Add click listener to open the lightbox, using the memory's unique internalId
                memoryEl.addEventListener('click', () => openLightbox(memory.internalId));
                
                const img = document.createElement('img');
                img.src = memory.imageUrl;
                img.alt = memory.caption || "Memory image"; // Provide a fallback alt
                // Added transition for a subtle hover effect (optional)
                img.className = 'w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105';
                img.onerror = () => { 
                    img.src = `https://placehold.co/600x400/f8bbd0/4a4a4a?text=Image+Not+Found`; 
                    img.alt = "Image not found";
                };
                memoryEl.appendChild(img);
                
                const captionDiv = document.createElement('div');
                captionDiv.className = 'p-3';
                
                const captionText = document.createElement('p');
                captionText.className = 'text-gray-800 font-semibold truncate'; // Truncate caption if too long for the card
                captionText.textContent = memory.caption || "Untitled Memory";
                captionDiv.appendChild(captionText);
                
                if (memory.memoryDate) {
                    const dateText = document.createElement('p');
                    dateText.className = 'text-sm text-gray-500';
                    try {
                        // Ensure date is parsed as local by appending T00:00:00 if it's just yyyy-mm-dd
                        const dateObj = new Date(memory.memoryDate.includes('T') ? memory.memoryDate : memory.memoryDate + "T00:00:00");
                        if (!isNaN(dateObj.getTime())) {
                             dateText.textContent = dateObj.toLocaleDateString('vi-VN', { month: 'short', day: 'numeric', year: 'numeric' });
                        } else {
                            dateText.textContent = memory.memoryDate; // Fallback to raw string if parsing fails
                        }
                    } catch (e) {
                        dateText.textContent = memory.memoryDate; // Fallback on any error
                    }
                    captionDiv.appendChild(dateText);
                }
                memoryEl.appendChild(captionDiv);
                container.appendChild(memoryEl);
            });
        }

        // --- Lightbox Functions ---
        function openLightbox(memoryInternalId) {
            // Find the memory from the photoMemories array using its unique internalId
            const memory = photoMemories.find(m => m.internalId === memoryInternalId);
            if (!memory || !lightbox) { // Ensure memory and lightbox element exist
                console.error("Could not open lightbox: Memory or lightbox element not found.");
                return;
            }

            // Populate lightbox elements if they exist
            if (lightboxImage) {
                lightboxImage.src = memory.imageUrl;
                lightboxImage.alt = memory.caption || "Enlarged memory image";
            }
            if (lightboxCaption) {
                lightboxCaption.textContent = memory.caption || "No caption";
            }
            
            if (lightboxDate) {
                if (memory.memoryDate) {
                    try {
                        // Ensure date is parsed as local by appending T00:00:00 if it's just yyyy-mm-dd
                        const dateObj = new Date(memory.memoryDate.includes('T') ? memory.memoryDate : memory.memoryDate + "T00:00:00");
                        lightboxDate.textContent = !isNaN(dateObj.getTime()) ? `Date: ${dateObj.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}` : `Date: ${memory.memoryDate}`;
                    } catch (e) {
                        lightboxDate.textContent = `Date: ${memory.memoryDate}`; // Fallback to raw date string
                    }
                } else {
                    lightboxDate.textContent = "Date: Not specified";
                }
            }

            if (lightboxLocation) {
                lightboxLocation.textContent = memory.location ? `Location: ${memory.location}` : "Location: Not specified";
            }
            if (lightboxStory) {
                lightboxStory.textContent = memory.story || "No story shared for this memory.";
            }
            
            // Show the lightbox
            lightbox.classList.remove('hidden');
            lightbox.classList.add('flex'); // Use 'flex' for centering
            document.body.style.overflow = 'hidden'; // Prevent background page from scrolling
        }

        function closeLightbox() {
            if (!lightbox) return; // Ensure lightbox element exists
            lightbox.classList.add('hidden');
            lightbox.classList.remove('flex');
            document.body.style.overflow = 'auto'; // Restore background page scrolling
        }
        
        // --- Event Listeners and Initialization ---
        document.addEventListener('DOMContentLoaded', async () => {
            console.log("DOM fully loaded and parsed");

            // Assign section and nav button elements
            sections.letter = document.getElementById('loveLetterSection');
            sections.memories = document.getElementById('memoriesSection');
            sections.journey = document.getElementById('journeySection');
            
            navButtons.letter = document.getElementById('navLetter');
            navButtons.memories = document.getElementById('navMemories');
            navButtons.journey = document.getElementById('navJourney');

            // Assign Lightbox elements
            lightbox = document.getElementById('imageLightbox');
            lightboxImage = document.getElementById('lightboxImage');
            lightboxCaption = document.getElementById('lightboxCaption');
            lightboxDate = document.getElementById('lightboxDate');
            lightboxLocation = document.getElementById('lightboxLocation');
            lightboxStory = document.getElementById('lightboxStory');
            closeLightboxButton = document.getElementById('closeLightboxButton');


            // Check if all crucial elements were found
            if (!sections.letter || !sections.memories || !sections.journey ||
                !navButtons.letter || !navButtons.memories || !navButtons.journey ||
                !lightbox || !closeLightboxButton ) { 
                console.error("CRITICAL: Not all section, navigation, or lightbox elements were found. Interactivity will be broken.");
                // Optionally display an error message in the UI
                const body = document.querySelector('body');
                if (body) {
                    const errorDiv = document.createElement('div');
                    errorDiv.innerHTML = "<p style='background-color:red; color:white; padding:10px; text-align:center; position:fixed; top:0; left:0; width:100%; z-index:9999;'>Error: Core UI elements missing. App may not function correctly.</p>";
                    body.prepend(errorDiv);
                }
                return; // Stop further JS execution if core UI is missing
            }
            console.log("All core UI and lightbox elements assigned.");

            await loadInitialData(); // Load data (photos from JSON, journey updates)
            
            switchView(currentView); // Set initial view

            // Setup navigation click handlers
            Object.keys(navButtons).forEach(key => {
                if (navButtons[key]) {
                    navButtons[key].addEventListener('click', (event) => {
                        event.preventDefault(); // Good practice for button clicks in nav
                        console.log(`Nav button clicked: ${key}`);
                        switchView(key);
                    });
                }
            });
            
            // Setup Lightbox event listeners
            if (closeLightboxButton) {
                closeLightboxButton.addEventListener('click', closeLightbox);
            } else {
                console.warn("Close lightbox button not found.");
            }
            
            // Optional: Close lightbox when clicking on the backdrop (the lightbox div itself)
            if (lightbox) {
                lightbox.addEventListener('click', (event) => {
                    if (event.target === lightbox) { // Only if the backdrop itself is clicked, not its children
                        closeLightbox();
                    }
                });
            } else {
                console.warn("Lightbox element not found for backdrop click listener.");
            }

            // Periodically update journey view for time passing
            setInterval(updateJourneyView, 60000); 
            console.log("Event listeners and periodic updates set up.");
        });

    </script>
    <style>
        body { font-family: 'Inter', sans-serif; overscroll-behavior-y: contain; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }
        .ios-header { @apply text-2xl font-bold text-gray-800 pb-4 border-b border-gray-200 mb-6 text-center; }
        .content-section { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        button:active, .group:active { transform: scale(0.98); } /* Active state for buttons and group elements */
        .love-letter-text p { @apply mb-4 leading-relaxed text-gray-700; } /* Style for paragraphs in love letter */

        /* Lightbox Styles */
        #imageLightbox {
            @apply hidden fixed inset-0 bg-black bg-opacity-80 items-center justify-center p-4 z-50 transition-opacity duration-300; /* Increased bg opacity */
        }
        /* :not(.hidden) is not standard for triggering transition on add/remove class. Opacity transition is handled by adding/removing hidden. */
        /* #imageLightbox.hidden {
            @apply opacity-0 pointer-events-none; 
        }
        #imageLightbox:not(.hidden) {
            @apply opacity-100 flex; 
        } */
        .lightbox-content {
            @apply bg-white rounded-lg shadow-xl p-4 md:p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto flex flex-col md:flex-row gap-4 md:gap-6;
        }
        .lightbox-image-container {
            @apply md:w-1/2 flex-shrink-0 flex items-center justify-center; /* Center image in its container */
        }
        #lightboxImage {
            @apply w-full h-auto max-h-[70vh] md:max-h-[calc(80vh-4rem)] object-contain rounded-md; /* Adjusted max-h for better fit */
        }
        .lightbox-details {
            @apply md:w-1/2 flex flex-col py-2; /* Added padding */
        }
        #lightboxCaption {
            @apply text-xl md:text-2xl font-semibold text-pink-600 mb-2 break-words; /* Allow caption to wrap */
        }
        #lightboxDate, #lightboxLocation {
            @apply text-sm text-gray-600 mb-1;
        }
        #lightboxStory {
            @apply text-base text-gray-700 mt-3 leading-relaxed flex-grow overflow-y-auto pr-2; /* Allow story to scroll if long */
            /* Custom scrollbar for story if needed */
            scrollbar-width: thin;
            scrollbar-color: #f472b6 #fce7f3; /* pink-500 and pink-100 */
        }
        #lightboxStory::-webkit-scrollbar {
            width: 8px;
        }
        #lightboxStory::-webkit-scrollbar-thumb {
            background-color: #f472b6; /* pink-500 */
            border-radius: 4px;
        }
        #lightboxStory::-webkit-scrollbar-track {
            background-color: #fce7f3; /* pink-100 */
        }

        #closeLightboxButton {
            @apply absolute top-3 right-3 md:top-4 md:right-4 text-white bg-black bg-opacity-40 hover:bg-opacity-60 rounded-full p-0 text-3xl leading-none transition-colors duration-200;
            width: 36px; /* Explicit size for the button */
            height: 36px;
            display: flex; /* For centering the 'times' symbol */
            align-items: center;
            justify-content: center;
            line-height: 1; /* Ensure 'times' is centered vertically */
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col h-screen max-h-screen">

    <header class="bg-white shadow-sm p-3 text-center sticky top-0 z-20">
        <h1 class="text-xl font-semibold text-pink-600">M·ª´ng k·ªâ ni·ªám 6 th√°ng b√™n nhau</h1>
    </header>

    <main id="contentArea" class="flex-grow overflow-y-auto p-4 md:p-6 space-y-6">
        <section id="journeySection" class="content-section bg-white p-6 rounded-xl shadow-lg">
            <h2 class="ios-header">H√†nh tr√¨nh c·ªßa hai ƒë·ª©a m√¨nh</h2>
            <div class="space-y-4 text-center">
                <p id="fixedStartDateDisplay" class="text-md text-gray-700 mb-4">M√¨nh ƒë√£ ch√≠nh th·ª©c b√™n nhau t·ª´: 25 Th√°ng M·ªôt, 2025</p>
                <div id="relationshipDuration" class="py-6 bg-pink-50 rounded-lg">
                    <p class="text-gray-600">Loading duration...</p>
                </div>
                <div class="space-y-2 text-sm text-gray-700">
                    <p id="nextAnniversary" class="p-3 bg-gray-50 rounded-md">Calculating next anniversary...</p>
                    <p id="nextMonthlyAnniversary" class="p-3 bg-gray-50 rounded-md">Calculating next milestone...</p>
                </div>
            </div>
        </section>

        <section id="loveLetterSection" class="content-section hidden bg-white p-6 rounded-xl shadow-lg">
            <h2 class="ios-header">Head·∫ª</h2>
            <div id="loveLetterContent" class="love-letter-text prose max-w-none">
                <!-- 
                    MANUALLY EDIT YOUR LOVE LETTER HERE! 
                    You can use <p> tags for paragraphs.
                -->
                <p>1,</p>
                <p>2</p>
                <p>3</p>
                <p>4</p>
                <p>5</p>
                <p>Signature</p>
            </div>
        </section>

        <section id="memoriesSection" class="content-section hidden bg-white p-6 rounded-xl shadow-lg">
            <h2 class="ios-header">K·ªâ ni·ªám c·ªßa ch√∫ng m√¨nh</h2>
            <p class="text-center text-sm text-gray-500 mb-4">Nh·ªØng t·∫•m ·∫£nh xinh ƒë√£ ch·ª•p c√πng nhao</p>
            <div id="photoMemoriesContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[calc(100vh-250px)] overflow-y-auto">
                 <p class="text-gray-500 text-center py-4 col-span-full">Loading memories...</p>
            </div>
        </section>
    </main>

    <nav class="bg-white border-t border-gray-200 p-3 sticky bottom-0 z-20 shadow-top">
        <div class="flex justify-around max-w-md mx-auto">
            <button id="navJourney" class="flex flex-col items-center text-pink-500 w-1/3 p-2 rounded-lg hover:bg-pink-50 transition focus:outline-none focus:bg-pink-100" aria-label="Our Journey">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-heart"><path d="M21 10V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7"/><path d="M16 2v4"/><path d="M8 2v4"/><path d="M3 10h18"/><path d="M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L17.5 21l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z"/></svg>
                <span class="text-xs mt-1">H√†nh tr√¨nh</span>
            </button>
            <button id="navLetter" class="flex flex-col items-center text-gray-500 w-1/3 p-2 rounded-lg hover:bg-pink-50 transition focus:outline-none focus:bg-pink-100" aria-label="Love Letter">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
                <span class="text-xs mt-1">Th∆∞ g·ª≠i em</span>
            </button>
            <button id="navMemories" class="flex flex-col items-center text-gray-500 w-1/3 p-2 rounded-lg hover:bg-pink-50 transition focus:outline-none focus:bg-pink-100" aria-label="Our Memories">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-image"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
                <span class="text-xs mt-1">K·ªâ ni·ªám</span>
            </button>
        </div>
    </nav>

    <div id="imageLightbox" class="hidden fixed inset-0 bg-black bg-opacity-80 items-center justify-center p-4 z-50"> <div class="lightbox-content">
            <div class="lightbox-image-container">
                <img id="lightboxImage" src="" alt="Enlarged memory" >
            </div>
            <div class="lightbox-details">
                <h3 id="lightboxCaption"></h3>
                <p id="lightboxDate"></p>
                <p id="lightboxLocation"></p>
                <div class="border-t border-gray-200 pt-3 mt-3"> <h4 class="text-md font-semibold text-gray-800 mb-1">Our Little Story:</h4>
                    <p id="lightboxStory"></p>
                </div>
            </div>
        </div>
        <button id="closeLightboxButton" aria-label="Close lightbox">&times;</button>
    </div>

    <div id="feedbackModal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-60 flex items-center justify-center z-[60] p-4"> <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
            <h3 id="modalTitle" class="text-xl font-semibold mb-2 text-gray-800"></h3>
            <p id="modalMessage" class="text-gray-700 mb-4"></p>
            <button id="closeModalButtonFeedback" class="w-full bg-pink-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-pink-600 transition-colors">OK</button>
        </div>
    </div>

</body>
</html>
